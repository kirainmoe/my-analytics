(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{376:function(e,t,r){e.exports=r(836)},381:function(e,t,r){},676:function(e,t,r){},836:function(e,t,r){"use strict";r.r(t);var o=r(0),a=r.n(o),l=r(21),i=r.n(l),n=(r(381),r(343)),s=r(344),c=r(374),d=r(370),h=r(111),b=r.n(h),m=r(840),y=r(838),p=r(839),g=function(e){e.registerTheme("westeros",{color:["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],backgroundColor:"rgba(0,0,0,0)",textStyle:{},title:{textStyle:{color:"#516b91"},subtextStyle:{color:"#93b7e3"}},line:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:!0},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#edafda",color0:"transparent",borderColor:"#d680bc",borderColor0:"#8fd3e8",borderWidth:"2"}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:"6",symbol:"emptyCircle",smooth:!0,color:["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],label:{normal:{textStyle:{color:"#eee"}}}},map:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},emphasis:{areaColor:"#a5e7f0",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"#516b91"}}}},geo:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},emphasis:{areaColor:"#a5e7f0",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"#516b91"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999"},emphasis:{borderColor:"#666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#ccc",width:1},crossStyle:{color:"#ccc",width:1}}},timeline:{lineStyle:{color:"#8fd3e8",width:1},itemStyle:{normal:{color:"#8fd3e8",borderWidth:1},emphasis:{color:"#8fd3e8"}},controlStyle:{normal:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5},emphasis:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5}},checkpointStyle:{color:"#8fd3e8",borderColor:"rgba(138,124,168,0.37)"},label:{normal:{textStyle:{color:"#8fd3e8"}},emphasis:{textStyle:{color:"#8fd3e8"}}}},visualMap:{color:["#516b91","#59c4e6","#a5e7f0"]},dataZoom:{backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"rgba(255,255,255,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{normal:{textStyle:{color:"#eee"}},emphasis:{textStyle:{color:"#eee"}}}}})},u=(r(676),r(677),function(e){var t=decodeURI(window.location.search.substring(1)).split("&"),r={};return t.forEach((function(e){var t=e.split("=");r[t[0]]=t[1]})),r[e]}),f=function(e){Object(c.a)(r,e);var t=Object(d.a)(r);function r(){var e;Object(n.a)(this,r);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={domain:u("domain"),isLoading:!0,totalVisit:0,dependentVisit:0,regionCount:0,data:void 0},e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var e=this;fetch("/cgi-bin/analytics.cgi?domain=".concat(this.state.domain)).then((function(e){return e.json()})).then((function(t){var r=0;for(var o in t.region)t.region.hasOwnProperty(o)&&(r+=Number(t.region[o]));e.setState({isLoading:!1,totalVisit:t.rawData.length,dependentVisit:r,regionCount:Object.keys(t.region).length,data:t}),e.renderData(t)})).catch((function(e){m.a.error("Failed to get statistic data dut to network error."),console.error(e)}))}},{key:"renderData",value:function(e){g(b.a);var t=b.a.init(document.getElementById("browsers-chart"),"westeros"),r=[];for(var o in e.browser)e.browser.hasOwnProperty(o)&&r.push({name:o,value:e.browser[o]});var a={title:[{text:"\u8bbf\u95ee\u8005\u4f7f\u7528\u7684\u6d4f\u89c8\u5668"}],legend:{orient:"vertical",bottom:0,left:0,data:Object.keys(e.browser)},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",data:r,animation:!0,radius:["50%","70%"],avoidLabelOverlap:!1,right:0,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1}}]};t.setOption(a);var l=b.a.init(document.getElementById("system-chart"),"westeros"),i=[];for(var n in e.system)e.system.hasOwnProperty(n)&&i.push({name:n,value:e.system[n]});var s={title:[{text:"\u8bbf\u95ee\u8005\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf"}],legend:{orient:"vertical",bottom:0,left:0,data:Object.keys(e.browser)},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",data:r,animation:!0,radius:["50%","70%"],avoidLabelOverlap:!1,right:0,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1}}]};l.setOption(s);var c=b.a.init(document.getElementById("region-chart"),"westeros"),d=[],h=[];for(var m in e.region)e.region.hasOwnProperty(m)&&(d.push(m),h.push(e.region[m]));var y={title:{text:"\u8bbf\u95ee\u8005\u6765\u81ea\u7684\u5730\u533a"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:d},series:[{name:"from",type:"bar",data:h}]};c.setOption(y);var p=b.a.init(document.getElementById("language-chart"),"westeros"),u=[];for(var f in e.language)e.language.hasOwnProperty(f)&&u.push({name:f,value:e.language[f]});var S={title:[{text:"\u8bbf\u95ee\u8005\u4f7f\u7528\u7684\u8bed\u8a00"}],legend:{orient:"vertical",bottom:0,left:0,data:Object.keys(e.language)},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",data:u,animation:!0,avoidLabelOverlap:!1,right:0,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"30",fontWeight:"bold"}},labelLine:{show:!1}}]};p.setOption(S)}},{key:"renderTable",value:function(){if(!this.state.isLoading){var e=[],t=0;for(var r in this.state.data.pages)this.state.data.pages.hasOwnProperty(r)&&(t++,e.push({key:t,url:r,visit:this.state.data.pages[r]}));return e.sort((function(e,t){return e.visit>t.visit?-1:e.visit===t.visit?0:1})),a.a.createElement(y.a,{style:{width:"100%"},dataSource:e,columns:[{title:"\u9875\u9762\u5730\u5740",dataIndex:"url",key:"url",ellipsis:!0},{title:"\u8bbf\u95ee\u6b21\u6570",dataIndex:"visit",key:"visit"}]})}}},{key:"render",value:function(){return a.a.createElement("div",{className:"my-analytics-container"},a.a.createElement("h1",{className:"title"},"\u8bbf\u5ba2\u7edf\u8ba1\u62a5\u544a"),a.a.createElement("p",{className:"subtitle"},"\u57df\u540d\uff1a",this.state.domain),a.a.createElement("div",{className:"data-container"},a.a.createElement("div",{className:"sketelon-container",style:{display:this.state.isLoading?"block":"none"}},a.a.createElement(p.a,{avatar:!0,paragraph:{rows:4},active:!0}),a.a.createElement(p.a,{avatar:!0,paragraph:{rows:4},active:!0})),a.a.createElement("div",{className:"charts",style:{display:this.state.isLoading?"none":"block"}},a.a.createElement("div",{className:"number-statistic"},a.a.createElement("h2",null,"\u8bbf\u95ee\u7edf\u8ba1"),a.a.createElement("p",null,"\u603b\u8bbf\u95ee\u6b21\u6570\uff1a",this.state.totalVisit),a.a.createElement("p",null,"\u72ec\u7acb\u8bbf\u5ba2\u6570\uff1a",this.state.dependentVisit),a.a.createElement("p",null,"\u5730\u533a\u6570\uff1a",this.state.regionCount),a.a.createElement("h2",null,"\u6700\u5e38\u88ab\u8bbf\u95ee\u7684\u9875\u9762"),a.a.createElement("div",{className:"table-container"},this.renderTable())),a.a.createElement("div",{className:"chart-container",id:"browsers-chart",style:{height:350}}),a.a.createElement("div",{className:"chart-container",id:"system-chart",style:{height:350}}),a.a.createElement("div",{className:"chart-container",id:"region-chart",style:{height:500}}),a.a.createElement("div",{className:"chart-container",id:"language-chart",style:{height:350}}))),a.a.createElement("div",{className:"footer"},"Powered by My-Analytics (XMU 2020 Linux Final Project) ",a.a.createElement("br",null),"\xa92020 Yume Maruyama, all rights reserved."))}}]),r}(a.a.Component);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f,null)),document.getElementById("root"))}},[[376,1,2]]]);
//# sourceMappingURL=main.chunk.js.map